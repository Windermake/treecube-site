<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞ ‚Äî TreeCube</title>
  <meta name="description" content="–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞ TreeCube" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'Minecraft';
      src: url('https://cdn.jsdelivr.net/npm/typeface-minecraft@0.0.1/files/minecraft.woff2') format('woff2');
    }

    :root {
      --bg: #060607;
      --card: #0f1113;
      --muted: #9aa6b2;
      --accent: #ff7a1c;
      --accent-2: #6bdcff;
      --glass: rgba(255, 255, 255, 0.03);
      --maxw: 1200px;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      color: #e8eef6;
      background: linear-gradient(180deg, #050506 0%, #0f2233 100%);
      background-attachment: fixed;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* NAV */
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 24px;
      max-width: var(--maxw);
      margin: 0 auto;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
    }

    .logo img {
      height: 56px;
      image-rendering: pixelated;
    }

    .btn {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.06);
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      color: inherit;
      transition: all 0.2s;
    }

    .btn:hover {
      border-color: var(--accent-2);
      background: rgba(107, 220, 255, 0.05);
    }

    .btn.primary {
      background: linear-gradient(90deg, var(--accent), #ff9a3c);
      border: none;
      color: #0b0b0b;
    }

    .btn.primary:hover {
      opacity: 0.9;
    }

    /* LAYOUT */
    .wrap {
      max-width: var(--maxw);
      margin: 28px auto;
      padding: 0 20px;
    }

    .cols {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 22px;
    }

    @media (max-width: 980px) {
      .cols {
        grid-template-columns: 1fr;
      }
    }

    /* PANELS */
    .panel {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
      padding: 24px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.03);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6);
    }

    /* PROFILE INFO */
    .profile-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .profile-avatar {
      width: 100px;
      height: 100px;
      border-radius: 12px;
      overflow: hidden;
      flex-shrink: 0;
    }

    .profile-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      image-rendering: pixelated;
    }

    .profile-info h1 {
      margin: 0 0 8px;
      font-size: 32px;
    }

    .profile-role {
      color: var(--accent-2);
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 8px;
    }

    .profile-realname {
      color: var(--muted);
      font-size: 16px;
    }

    /* SKIN VIEWER */
    .skin-viewer-container {
      width: 100%;
      height: 400px;
      border-radius: 10px;
      overflow: hidden;
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.05);
      margin-bottom: 16px;
      position: relative;
    }

    .skin-viewer-container canvas {
      width: 100%;
      height: 100%;
      display: block;
    }

    .skin-actions {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }

    /* STATS */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 20px;
    }

    .stat-item {
      padding: 12px;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(255, 255, 255, 0.03);
      transition: all 0.2s;
    }

    .stat-item:hover {
      border-color: rgba(107, 220, 255, 0.1);
      background: rgba(107, 220, 255, 0.03);
    }

    .stat-label {
      color: var(--muted);
      font-size: 13px;
      margin-bottom: 4px;
    }

    .stat-value {
      font-weight: 700;
      font-size: 18px;
    }

    /* VIDEOS */
    .videos-section {
      margin-top: 30px;
    }

    .videos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }

    .video-item {
      border-radius: 10px;
      overflow: hidden;
      background: #000;
      transition: transform 0.2s, box-shadow 0.2s;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .video-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.7);
      border-color: var(--accent-2);
    }

    .video-thumbnail {
      width: 100%;
      height: 140px;
      object-fit: cover;
    }

    .video-title {
      padding: 12px;
      font-weight: 600;
      color: #e8eef6;
    }

    /* LOADING */
    .loading {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 400px;
      font-size: 18px;
      color: var(--muted);
      gap: 20px;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(107, 220, 255, 0.3);
      border-top: 4px solid var(--accent-2);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* BACK BUTTON */
    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .back-btn:hover {
      background: rgba(255, 255, 255, 0.05);
      border-color: var(--accent-2);
    }

    /* ERROR */
    .error-container {
      text-align: center;
      padding: 60px 20px;
      max-width: 500px;
      margin: 0 auto;
    }

    /* ANIMATIONS */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }

    /* CONTROLS INFO */
    .controls-info {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 12px;
      color: var(--muted);
      font-size: 13px;
    }

    .control-item {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="nav">
    <div class="logo" onclick="window.location.href = 'index.html'">
      <img src="img/logo.PNG" alt="TC2 logo">
      <div>
        <div style="font-weight:800;font-size:18px">TreeCube</div>
        <div style="font-size:12px;color:var(--muted);margin-top:2px">–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞</div>
      </div>
    </div>
    <button class="btn" onclick="history.back()">‚Üê –ù–∞–∑–∞–¥</button>
  </nav>

  <main class="wrap">
    <div id="loading" class="loading">
      <div class="spinner"></div>
      <div>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...</div>
    </div>

    <div id="error" class="error-container" style="display: none;">
      <h2>–ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω</h2>
      <p style="color: var(--muted); margin: 16px 0 24px;">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –∏–ª–∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é.</p>
      <button class="btn primary" onclick="window.location.href = 'index.html'">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
    </div>

    <div id="profile" class="cols fade-in" style="display: none;">
      <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –ò–ù–§–û–†–ú–ê–¶–ò–Ø -->
      <div>
        <div class="panel">
          <div class="profile-header">
            <div class="profile-avatar">
              <img id="avatar" alt="–ê–≤–∞—Ç–∞—Ä –∏–≥—Ä–æ–∫–∞">
            </div>
            <div class="profile-info">
              <h1 id="player-name"></h1>
              <div class="profile-role" id="player-role"></div>
              <div class="profile-realname" id="player-realname"></div>
            </div>
          </div>

          <div id="player-about">
            <!-- –û–ë –ò–ì–†–û–ö–ï –ë–£–î–ï–¢ –î–û–ë–ê–í–õ–ï–ù–û JS -->
          </div>

          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-label">–ù–∞ –ø—Ä–æ–µ–∫—Ç–µ —Å</div>
              <div class="stat-value" id="player-season">‚Äî</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">–†–æ–ª—å</div>
              <div class="stat-value" id="player-role-badge">–ò–≥—Ä–æ–∫</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">–°—Ç–∞—Ç—É—Å</div>
              <div class="stat-value" style="color: #6bff8d;">–ê–∫—Ç–∏–≤–µ–Ω</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">–ù–∏–∫ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</div>
              <div class="stat-value">
                <span id="player-nick-copy" style="cursor: pointer; color: var(--accent-2);" 
                      onclick="copyNick()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</span>
              </div>
            </div>
          </div>
        </div>

        <!-- –í–ò–î–ï–û -->
        <div id="videos-section" class="panel videos-section" style="display: none;">
          <h2 style="margin: 0 0 16px;">üé¨ –í–∏–¥–µ–æ –∏–≥—Ä–æ–∫–∞</h2>
          <div id="videos-grid" class="videos-grid">
            <!-- –í–∏–¥–µ–æ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
          </div>
        </div>
      </div>
  <footer style="margin-top: 40px; padding: 28px; text-align: center; color: var(--muted); opacity: 0.9;">
    ¬© TreeCube ‚Äî –ø—Ä–æ–µ–∫—Ç –∫–æ–Ω—Ç–µ–Ω—Ç‚Äë–º–µ–π–∫–µ—Ä–æ–≤. –ü—Ä–æ—Ñ–∏–ª–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é.
  </footer>
  <script>
    // –î–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤
    const players = [
      {nick:'0TVECHAU', real:'–û—Ç–≤–µ—á–∞—é', role:'–í–ª–∞–¥–µ–ª–µ—Ü', season:'1', about:'–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ TreeCube'},
      {nick:'megatntmega', real:'–†–∞–¥–æ–º–∏—Ä', role:'–¢–µ—Ö.–∞–¥–º–∏–Ω', season:'1', about:'–ì–ª–∞–≤–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç'},
      {nick:'7Neriys', real:'–ù–µ–π—Ä—É—Å', role:'–¢–µ—Ö.–∞–¥–º–∏–Ω', season:'1', about:'–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä'},
      {nick:'MineKent_', real:'–ú–∞–π–Ω–ö–µ–Ω—Ç', role:'–¢–µ—Ö.–∞–¥–º–∏–Ω', season:'1', about:'–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø–ª–∞–≥–∏–Ω–æ–≤'},
      {nick:'ARTMine_', real:'–ê—Ä—Ç–ú–∞–π–Ω', season:'1', about:'–°—Ç—Ä–æ–∏—Ç–µ–ª—å –∏ –¥–∏–∑–∞–π–Ω–µ—Ä'},
      {nick:'_GomeoStaz_', real:'–ì–æ–º–µ–æ—Å—Ç–∞–∑', season:'1', about:'–ê–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π'},
      {nick:'DenFv', real:'–î–µ–Ω–§–≤', season:'1', about:'–ö–æ–Ω—Ç–µ–Ω—Ç-–º–µ–π–∫–µ—Ä'},
      {nick:'Kilka_v_HJlebe', real:'–ö–∏–ª—å–∫–∞', season:'1', about:'–£—á–∞—Å—Ç–Ω–∏–∫ —Å–µ–∑–æ–Ω–æ–≤'},
      {nick:'KNOX_Play', real:'–ö–Ω–æ–∫—Å', season:'2', about:'–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'kykyruky', real:'–ö—É–∫—É—Ä—É–∫—É', season:'2', about:'–°—Ç—Ä–∏–º–µ—Ä –∏ —Å–æ–∑–¥–∞—Ç–µ–ª—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞'},
      {nick:'MrSteak336', real:'–ú—Ä–°—Ç–µ–π–∫', season:'2', about:'–ê–∫—Ç–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫'},
      {nick:'MusteRand0mGMD', real:'–†–∞–Ω–¥–æ–º', season:'2', about:'–£—á–∞—Å—Ç–Ω–∏–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π'},
      {nick:'Relight92', real:'–†–µ–ª–∞–π—Ç', season:'2', about:'–°—Ç—Ä–æ–∏—Ç–µ–ª—å'},
      {nick:'TvanLegend_', real:'–¢–≤–∞–Ω', season:'2', about:'–í–µ—Ç–µ—Ä–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞'},
      {nick:'FrogenixZhabight', real:'–§—Ä–æ–≥–µ–Ω–∏–∫—Å', season:'2', about:'–ê–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'Abobnlk', real:'–ê–±–æ–±–Ω–∏–∫', season:'2', about:'–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'Bulo4ka_aa', real:'–ë—É–ª–æ—á–∫–∞', season:'2', about:'–ö–æ–Ω—Ç–µ–Ω—Ç-–º–µ–π–∫–µ—Ä'},
      {nick:'BlHite4', real:'(–ë–ª)–•–∞–π—Ç', season:'2', about:'–°—Ç—Ä–∏–º–µ—Ä'},
      {nick:'Windermake', real:'–í–∏–Ω–¥–µ—Ä–º–µ–π–∫', season:'2', about:'–£—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'Z3phyr_OK', real:'–ó–µ—Ñ–∏—Ä', season:'2', about:'–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'ILIADOD', real:'–ò–ª–∏–∞–¥–æ–¥', season:'2', about:'–ê–∫—Ç–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫'},
      {nick:'Knofbri', real:'–ö–Ω–æ—Ñ–±—Ä–∏', season:'2', about:'–£—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'maps_ik', real:'–ú–∞–ø—Å', season:'2', about:'–°—Ç—Ä–æ–∏—Ç–µ–ª—å'},
      {nick:'Oreonsik', real:'–û—Ä–µ–æ–Ω', season:'2', about:'–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'Egorik_Pantaloni', real:'–ü–∞–Ω—Ç–∞–ª–æ–Ω', season:'2', about:'–ö–æ–Ω—Ç–µ–Ω—Ç-–º–µ–π–∫–µ—Ä'},
      {nick:'Mr_SlaymaN', real:'–°–ª–∞‚Äå–π–º—ç–Ω', season:'2', about:'–£—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'FireLegend_', real:'–§–∞–µ—Ä', season:'2', about:'–ê–∫—Ç–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫'},
      {nick:'Endiekey__', real:'–≠–Ω–¥–∏–∫–µ–π', season:'2', about:'–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫'},
      {nick:'Ehnenra', real:'–≠–Ω–µ–Ω—Ä–∞', season:'2', about:'–£—á–∞—Å—Ç–Ω–∏–∫'}
    ];

    // –ü—Ä–∏–º–µ—Ä–Ω—ã–µ –≤–∏–¥–µ–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
    const playerVideos = {
      '0TVECHAU': [
        {title: '–ù–∞—á–∞–ª–æ –ø—Ä–æ–µ–∫—Ç–∞ TreeCube', thumbnail: 'img/oblochki/obl1.jpg', link: '#'},
        {title: '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–∑–æ–Ω–∞ 2', thumbnail: 'img/oblochki/obl2.jpg', link: '#'}
      ],
      'megatntmega': [
        {title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ–±–∑–æ—Ä', thumbnail: 'img/oblochki/obl3.jpg', link: '#'}
      ]
    };

    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let viewer = null;
    let isRotating = true;
    let isAnimating = true;
    let currentPlayer = null;

    // –ü–æ–ª—É—á–∞–µ–º –Ω–∏–∫ –∏–∑ URL
    function getNickFromURL() {
      const params = new URLSearchParams(window.location.search);
      return params.get('nick');
    }

    // –ü–æ–∏—Å–∫ –∏–≥—Ä–æ–∫–∞
    function findPlayer(nick) {
      return players.find(p => p.nick === nick);
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    function initPage() {
      const nick = getNickFromURL();
      if (!nick) {
        showError();
        return;
      }

      currentPlayer = findPlayer(nick);
      if (!currentPlayer) {
        showError();
        return;
      }

      loadProfile();
      initSkinViewer();
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
    function loadProfile() {
      const loadingEl = document.getElementById('loading');
      const profileEl = document.getElementById('profile');
      const errorEl = document.getElementById('error');
      
      loadingEl.style.display = 'none';
      errorEl.style.display = 'none';
      profileEl.style.display = 'grid';

      // –ó–∞–ø–æ–ª–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
      document.getElementById('player-name').textContent = currentPlayer.nick;
      document.getElementById('player-role').textContent = currentPlayer.role || '–ò–≥—Ä–æ–∫';
      document.getElementById('player-realname').textContent = currentPlayer.real ? `–ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è: ${currentPlayer.real}` : '';
      document.getElementById('player-season').textContent = currentPlayer.season || '1';
      document.getElementById('player-role-badge').textContent = currentPlayer.role || '–ò–≥—Ä–æ–∫';
      document.getElementById('player-nick-copy').setAttribute('data-nick', currentPlayer.nick);

      // –ê–≤–∞—Ç–∞—Ä
      document.getElementById('avatar').src = `https://mineskin.eu/helm/${encodeURIComponent(currentPlayer.nick)}/100.png`;
      document.getElementById('avatar').onerror = function() {
        this.src = `https://minotar.net/helm/${encodeURIComponent(currentPlayer.nick)}/100.png`;
      };

      // –û –∏–≥—Ä–æ–∫–µ
      const aboutEl = document.getElementById('player-about');
      aboutEl.innerHTML = `
        <h3 style="margin: 0 0 12px;">üìñ –û–± –∏–≥—Ä–æ–∫–µ</h3>
        <div style="color: var(--muted); line-height: 1.6; padding: 8px; background: rgba(255,255,255,0.01); border-radius: 8px;">
          ${currentPlayer.about || '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–æ–∫–µ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞. –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é.'}
        </div>
      `;

      // –í–∏–¥–µ–æ
      const videos = playerVideos[currentPlayer.nick];
      if (videos && videos.length > 0) {
        document.getElementById('videos-section').style.display = 'block';
        const videosGrid = document.getElementById('videos-grid');
        videosGrid.innerHTML = '';
        
        videos.forEach(video => {
          const videoEl = document.createElement('a');
          videoEl.href = video.link;
          videoEl.target = '_blank';
          videoEl.className = 'video-item';
          videoEl.innerHTML = `
            <img src="${video.thumbnail}" alt="${video.title}" class="video-thumbnail">
            <div class="video-title">${video.title}</div>
          `;
          videosGrid.appendChild(videoEl);
        });
      }
    }

    // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–∫–∏–Ω–∞
    function downloadSkin() {
      if (!currentPlayer) return;
      
      // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
      const skinUrl = `https://mineskin.eu/skin/${encodeURIComponent(currentPlayer.nick)}`;
      const link = document.createElement('a');
      link.href = skinUrl;
      link.download = `${currentPlayer.nick}_skin.png`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      showNotification('–°–∫–∏–Ω –Ω–∞—á–∞–ª —Å–∫–∞—á–∏–≤–∞—Ç—å—Å—è!');
    }

    // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∏–∫–∞
    function copyNick() {
      if (!currentPlayer) return;
      
      navigator.clipboard.writeText(currentPlayer.nick)
        .then(() => {
          showNotification('–ù–∏–∫ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
        })
        .catch(err => {
          console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
          showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å', true);
        });
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    function showNotification(message, isError = false) {
      // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
      const notification = document.createElement('div');
      notification.textContent = message;
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${isError ? '#ff4444' : 'var(--card)'};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        border: 1px solid ${isError ? '#ff4444' : 'rgba(107, 220, 255, 0.3)'};
        box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        z-index: 1000;
        animation: fadeIn 0.3s ease-out;
      `;
      
      document.body.appendChild(notification);
      
      // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        notification.style.animation = 'fadeIn 0.3s ease-out reverse';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 300);
      }, 3000);
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
    function showError() {
      document.getElementById('loading').style.display = 'none';
      document.getElementById('error').style.display = 'block';
    }

    // –†–µ—Å–∞–π–∑ canvas –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
    window.addEventListener('resize', () => {
      if (viewer) {
        const canvas = document.getElementById('skin-canvas');
        viewer.width = canvas.parentElement.clientWidth;
      }
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', initPage);
  </script>
</body>
</html>